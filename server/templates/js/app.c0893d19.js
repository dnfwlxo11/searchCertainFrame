(function(e){function t(t){for(var o,r,n=t[0],l=t[1],c=t[2],d=0,p=[];d<n.length;d++)r=n[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],o=!0,n=1;n<a.length;n++){var l=a[n];0!==s[l]&&(o=!1)}o&&(i.splice(t--,1),e=r(r.s=a[0]))}return e}var o={},s={app:0},i=[];function r(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=o,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(a,o,function(t){return e[t]}.bind(null,o));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1753:function(e,t,a){e.exports=a.p+"img/thumbnail.bae120c4.png"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],r=a("2877"),n={},l=Object(r["a"])(n,s,i,!1,null,null,null),c=l.exports,u=a("8c4f"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("div",{staticClass:"container p-3"},[e.progress?a("div",{staticClass:"progress-modal"},[e._m(0)]):e._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8 mb-5"},[a("div",{staticClass:"btn-group btn-group-toggle mb-3",attrs:{"data-toggle":"buttons"}},[a("label",{staticClass:"btn btn-outline-primary active"},[a("input",{attrs:{type:"radio",name:"options",id:"option1",value:"유튜브",checked:""},on:{click:e.setMode}}),e._v("유튜브 ")]),a("label",{staticClass:"btn btn-outline-primary"},[a("input",{attrs:{type:"radio",name:"options",id:"option2",value:"내영상"},on:{click:e.setMode}}),e._v("내 영상 ")])]),a("h4",[e._v("찾을 동영상")]),e.mode?a("div",{staticClass:"row mb-5"},[a("div",{staticClass:"col-12 embed-responsive embed-responsive-16by9 mb-3"},[a("video",{staticClass:"embed-responsive-item",attrs:{src:e.localUrl,controls:""}},[a("source",{attrs:{src:e.localVideo,type:"video/mp4"}})])]),a("input",{attrs:{name:"input-video",type:"file",accept:"video/*"},on:{change:e.uploadVideo}})]):a("div",{staticClass:"row mb-5"},[a("div",{staticClass:"col-12 embed-responsive embed-responsive-16by9 mb-3"},[a("iframe",{staticClass:"embed-responsive-item",attrs:{src:e.youtubeVideo,frameborder:"0"}})]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.youtubeUrl,expression:"youtubeUrl"}],staticClass:"col-8 mr-3",attrs:{type:"text",placeholder:"유튜브 동영상 주소를 입력해주세요."},domProps:{value:e.youtubeUrl},on:{input:function(t){t.target.composing||(e.youtubeUrl=t.target.value)}}}),a("button",{staticClass:"btn btn-primary col-3",on:{click:e.getYoutubeVideo}},[e._v("동영상 가져오기")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"input-group col-md-6"},[a("h4",[e._v("찾고자 하는 대상")]),a("div",{staticClass:"embed-responsive embed-responsive-16by9 mb-3"},[a("a",{staticClass:"d-block",attrs:{href:"javascript:;"},on:{click:function(t){return e.$refs.inputImgFile.click()}}},[a("img",{staticClass:"embed-responsive-item",attrs:{src:e.thumbnail}})])]),a("input",{ref:"inputImgFile",staticClass:"mb-3",attrs:{name:"thumbnail",type:"file",accept:"image/*"},on:{change:e.uploadImage}})]),a("div",{staticClass:"col-md-3 m-auto"},[a("button",{staticClass:"btn btn-block btn-warning",on:{click:e.startAnalyze}},[e._v("분석 시작")])])])]),a("div",{staticClass:"col-md-4 mt-3"},[a("div",{staticClass:"row-6 mb-5"},[a("div",{staticClass:"mb-3"},[a("label",{on:{click:e.setSpeed}},[a("input",{attrs:{type:"checkbox",name:"color",value:"blue"}}),e._v("스피드 모드 ")])]),a("div",{staticClass:"mb-3"},[a("h4",[e._v("예측 모델")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.model=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"VGG16"}},[e._v("VGG16")]),a("option",{attrs:{value:"ResNet50"}},[e._v("ResNet50")]),a("option",{attrs:{value:"InceptionV3"}},[e._v("InceptionV3")]),a("option",{attrs:{value:"EfficientNet-B0"}},[e._v("EfficientNet-B0")])])]),a("div",{staticClass:"mb-3"},[a("h4",[e._v("유사도 공식")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.calc,expression:"calc"}],attrs:{type:"radio",name:"similar_calc",value:"cosc"},domProps:{checked:e._q(e.calc,"cosc")},on:{change:function(t){e.calc="cosc"}}}),e._v("Cosin 유사도 "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.calc,expression:"calc"}],attrs:{type:"radio",name:"similar_calc",value:"eunc"},domProps:{checked:e._q(e.calc,"eunc")},on:{change:function(t){e.calc="eunc"}}}),e._v("Euclidian 유사도 ")]),e.speed?e._e():a("div",{staticClass:"mb-3"},[a("h4",[e._v("FPS")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.fps,expression:"fps"}],attrs:{type:"radio",name:"video_fps",value:"24"},domProps:{checked:e._q(e.fps,"24")},on:{change:function(t){e.fps="24"}}}),e._v("24FPS "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.fps,expression:"fps"}],attrs:{type:"radio",name:"video_fps",value:"30"},domProps:{checked:e._q(e.fps,"30")},on:{change:function(t){e.fps="30"}}}),e._v("30FPS "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.fps,expression:"fps"}],attrs:{type:"radio",name:"video_fps",value:"60"},domProps:{checked:e._q(e.fps,"60")},on:{change:function(t){e.fps="60"}}}),e._v("60FPS ")]),e.speed?e._e():a("div",{staticClass:"mb-3"},[a("h4",[e._v("해상도")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.resol,expression:"resol"}],attrs:{type:"radio",name:"video_res",value:"240p"},domProps:{checked:e._q(e.resol,"240p")},on:{change:function(t){e.resol="240p"}}}),e._v("240p "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.resol,expression:"resol"}],attrs:{type:"radio",name:"video_res",value:"360p"},domProps:{checked:e._q(e.resol,"360p")},on:{change:function(t){e.resol="360p"}}}),e._v("360p "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.resol,expression:"resol"}],attrs:{type:"radio",name:"video_res",value:"480p"},domProps:{checked:e._q(e.resol,"480p")},on:{change:function(t){e.resol="480p"}}}),e._v("480p "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.resol,expression:"resol"}],attrs:{type:"radio",name:"video_res",value:"720p"},domProps:{checked:e._q(e.resol,"720p")},on:{change:function(t){e.resol="720p"}}}),e._v("720p ")]),a("div",{staticClass:"mb-3"},[a("h4",[e._v("결과값 개수")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.listSize,expression:"listSize"}],attrs:{type:"radio",name:"predict_li",value:"3"},domProps:{checked:e._q(e.listSize,"3")},on:{change:function(t){e.listSize="3"}}}),e._v("3개 "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.listSize,expression:"listSize"}],attrs:{type:"radio",name:"predict_li",value:"5"},domProps:{checked:e._q(e.listSize,"5")},on:{change:function(t){e.listSize="5"}}}),e._v("5개 "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.listSize,expression:"listSize"}],attrs:{type:"radio",name:"predict_li",value:"10"},domProps:{checked:e._q(e.listSize,"10")},on:{change:function(t){e.listSize="10"}}}),e._v("10개 "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.listSize,expression:"listSize"}],attrs:{type:"radio",name:"predict_li",value:"20"},domProps:{checked:e._q(e.listSize,"20")},on:{change:function(t){e.listSize="20"}}}),e._v("20개 "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.listSize,expression:"listSize"}],attrs:{type:"radio",name:"predict_li",value:"30"},domProps:{checked:e._q(e.listSize,"30")},on:{change:function(t){e.listSize="30"}}}),e._v("30개 ")])]),a("div",{staticClass:"row overflow-auto",staticStyle:{"max-height":"400px"}},[e.isData?a("ul",{staticClass:"list-group"},e._l(e.analyzeData,(function(t,o){return a("li",{key:o,staticClass:"list-group-item"},[e.mode?a("a",{on:{click:function(a){e.localUrl=e.localUrl.split("t=")[0]+"t="+t[0]}}},[e._v(e._s(t[1]))]):a("a",{on:{click:function(a){e.youtubeVideo=t[0]}}},[e._v(e._s(t[1]))])])})),0):e._e()])])])])])},p=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"progress-modal-content"},[o("img",{attrs:{src:a("cebd"),alt:"loading..."}}),o("p",[e._v("로딩 중이며 재생 시간이 길수록 많은 시간이 소요됩니다.")])])}],m=a("1da1"),v=(a("96cf"),a("ac1f"),a("1276"),a("841c"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("99af"),a("bc3a")),f=a.n(v),h={name:"Home",data:function(){return{thumbnail:a("1753"),thumbnailFile:"",youtubeVideo:"https://youtube.com/embed",youtubeUrl:"",localVideo:a("1753"),localUrl:"",progress:!1,speed:!1,mode:!1,model:"VGG16",calc:"cosc",fps:"30",resol:"360p",listSize:"5",analyzeData:[],isData:!1}},methods:{getYoutubeVideo:function(){var e=new URL(this.youtubeUrl).search.split("=")[1];this.youtubeVideo="https://youtube.com/embed/".concat(e)},setSpeed:function(){this.speed=!this.speed},setMode:function(e){console.log(e.target.value),"유튜브"==e.target.value?(this.mode=!1,this.localVideo="../assets/thumbnail.png",this.localUrl="",this.analyzeData=[],this.isData=!1):(this.mode=!0,this.youtubeVideo="https://youtube.com/embed",this.youtubeUrl="",this.analyzeData=[],this.isData=!1)},setProgress:function(){this.progress=!this.progress},uploadImage:function(e){var t=this,a=new FileReader;void 0!==e.target.files[0]?(a.readAsDataURL(e.target.files[0]),this.thumbnailFile=e.target.files[0],a.onload=function(){t.thumbnail=a.result}):alert("비디오가 로딩되지 않았습니다.")},uploadVideo:function(e){var t=this,a=new FileReader;this.setProgress(),void 0!==e.target.files[0]?(a.readAsDataURL(e.target.files[0]),this.localVideo=e.target.files[0],a.onload=function(){t.localUrl="".concat(a.result,"#t=0.1")},this.setProgress()):(alert("비디오가 로딩되지 않았습니다."),this.setProgress())},startAnalyze:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var a,o,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(s in e.setProgress(),e.analyzeData=[],a={thumbnail:e.thumbnailFile,type:e.mode?"local":"youtube",model:e.model,calc:e.calc,fps:e.fps,len:e.listSize,resol:e.resol,url:e.mode?e.localVideo:e.youtubeVideo,mode:e.speed?"speed":"normal"},o=new FormData,a)o.append(s,a[s]);return t.next=7,f()({url:"http://192.168.0.106:5000/api/startAnalyze",method:"POST",headers:{"Content-Type":"multipart/form-data"},data:o}).catch((function(t){e.setProgress();var a=t.response.data.msg;alert(a),window.location.href="/"}));case 7:i=t.sent,e.analyzeData=i.data.result.reduce((function(t,o){var s=o[1].split(".")[0];return o="youtube"==a.type?["".concat(e.youtubeVideo,"?autoplay=1&start=").concat(s),"".concat(Math.floor(s/60)>9?Math.floor(s/60):"0"+Math.floor(s/60)," : ").concat(s%60>9?s%60:"0"+s%60)]:[s,"".concat(Math.floor(s/60)>9?Math.floor(s/60):"0"+Math.floor(s/60)," : ").concat(s%60>9?s%60:"0"+s%60)],t.push(o),t}),[]),e.isData=!0,e.setProgress();case 11:case"end":return t.stop()}}),t)})))()}}},b=h,g=(a("cccb"),Object(r["a"])(b,d,p,!1,null,null,null)),_=g.exports;o["a"].use(u["a"]);var y=[{path:"/",name:"Home",component:_}],w=new u["a"]({mode:"history",base:"/",routes:y}),C=w,S=a("2f62");o["a"].use(S["a"]);var P=new S["a"].Store({state:{},mutations:{},actions:{},modules:{}});o["a"].config.productionTip=!1,new o["a"]({router:C,store:P,render:function(e){return e(c)}}).$mount("#app")},"5ced":function(e,t,a){},cccb:function(e,t,a){"use strict";a("5ced")},cebd:function(e,t,a){e.exports=a.p+"img/progressBar.6a3bd9f9.gif"}});
//# sourceMappingURL=app.c0893d19.js.map